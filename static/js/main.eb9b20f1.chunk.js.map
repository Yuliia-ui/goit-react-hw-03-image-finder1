{"version":3,"sources":["components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.module.css","services/imageApi.js","components/Searchbar/Searchbar.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/Modal/Modal.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","apiKey","searchQuery","page","axios","get","then","response","data","hits","SearchBar","state","query","handleSubmit","event","preventDefault","props","onSubmit","setState","handleChange","currentTarget","value","className","styles","Searchbar","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","inputValue","onChange","placeholder","Component","Button","onClickLoad","onClick","Modal","handleKeyDown","code","closeModal","onCloseModal","target","window","addEventListener","removeEventListener","Overlay","src","largeImage","alt","Spinner","color","height","width","ImageGalleryItem","id","largeImageURL","tags","onClickLargeImg","imageGalleryItem","imageGallery","data-source","data-id","dataset","source","ImageGallery","images","map","item","key","webformatURL","App","currentPage","isLoading","openModal","originalImageURL","onChangeQuery","fetchImg","imageApi","length","alert","prevState","handleClickImage","prevProps","buttonIsShow","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.eb9b20f1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3c48Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__Nbj1F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__sGhSj\",\"SearchForm\":\"Searchbar_SearchForm__2EaMY\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2zViu\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3F__i\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2QihU\"};","import axios from 'axios';\r\nconst apiKey = '17891162-afebe5dc75b3e3f8e0ce5e622';\r\n\r\nconst fetchImageWithQuery = (searchQuery, page = 0) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\nexport default {\r\n  fetchImageWithQuery,\r\n};\r\n","import React, { Component } from 'react';\r\nimport styles from '../Searchbar/Searchbar.module.css';\r\n\r\nexport default class SearchBar extends Component {\r\n  state = { query: '' };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  handleChange = event => {\r\n    this.setState({\r\n      query: event.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            value={this.state.inputValue}\r\n            onChange={this.handleChange}\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from '../Button/Button.module.css';\r\n\r\nconst Button = ({ onClickLoad }) => (\r\n  <button type=\"button\" className={styles.Button} onClick={onClickLoad}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n  onClickLoad: PropTypes.func.isRequired,\r\n};\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = event => {\r\n    if (event.code === 'Escape') {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  onCloseModal = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.Overlay} onClick={this.onCloseModal}>\r\n        <div className={styles.Modal}>\r\n          <img src={this.props.largeImage} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  largeImage: PropTypes.string.isRequired,\r\n  closeModal: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nexport default function Spinner() {\r\n  return <Loader type=\"BallTriangle\" color=\"#00BFFF\" height={80} width={80} />;\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from '../ImageGalleryItem/ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({\r\n  id,\r\n  src,\r\n  largeImageURL,\r\n  tags,\r\n  onClickLargeImg,\r\n}) => {\r\n  const handleClickImage = event =>\r\n    onClickLargeImg(event.target.dataset.source);\r\n\r\n  return (\r\n    <li className={styles.imageGalleryItem}>\r\n      <img\r\n        src={src}\r\n        alt={tags}\r\n        className={styles.imageGallery}\r\n        data-source={largeImageURL}\r\n        data-id={id}\r\n        onClick={handleClickImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  src: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  id: PropTypes.number,\r\n  tags: PropTypes.string,\r\n  onClickLargeImg: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\r\nimport styles from '../ImageGallery/ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, onClick }) => (\r\n  <ul className={styles.ImageGallery}>\r\n    {images.map(item => (\r\n      <ImageGalleryItem\r\n        key={item.id}\r\n        id={item.id}\r\n        alt={item.tags}\r\n        src={item.webformatURL}\r\n        onClickLargeImg={onClick}\r\n        largeImageURL={item.largeImageURL}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nexport default ImageGallery;\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import React, { Component } from 'react';\nimport imageApi from './services/imageApi';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\nimport Loader from './components/Loader/Loader';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    searchQuery: '',\n    currentPage: 1,\n    isLoading: false,\n    openModal: false,\n    originalImageURL: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImg();\n    }\n  }\n\n  onChangeQuery = query => {\n    if (query !== this.state.searchQuery) {\n      this.setState({ searchQuery: query, currentPage: 1, images: [] });\n    }\n  };\n\n  fetchImg = () => {\n    const { searchQuery, currentPage } = this.state;\n    this.setState({ isLoading: true });\n    imageApi.fetchImageWithQuery(searchQuery, currentPage).then(hits => {\n      if (hits.length === 0) {\n        return alert('По вашему запросу ничего не найдено');\n      }\n      this.setState(prevState => ({\n        images: [...prevState.images, ...hits],\n        currentPage: prevState.currentPage + 1,\n        isLoading: false,\n      }));\n    });\n  };\n\n  handleClickImage = largeImage => {\n    this.openModal(largeImage);\n  };\n\n  openModal = largeImage =>\n    this.setState({ openModal: true, originalImageURL: largeImage });\n\n  closeModal = () => this.setState({ openModal: false, originalImageURL: '' });\n\n  render() {\n    const { images, isLoading, openModal, originalImageURL } = this.state;\n    const buttonIsShow = images.length > 0 && !isLoading;\n\n    return (\n      <>\n        <Searchbar onSubmit={this.onChangeQuery} />\n        <ImageGallery images={images} onClick={this.handleClickImage} />\n        {openModal && (\n          <Modal\n            largeImage={originalImageURL}\n            closeModal={this.closeModal}\n          ></Modal>\n        )}\n        {isLoading && <Loader />}\n        {buttonIsShow && <Button onClickLoad={this.fetchImg} />}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './App.module.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3tBXE\",\"Modal\":\"Modal_Modal__5LMmy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__15tW3\",\"imageGallery\":\"ImageGalleryItem_imageGallery__AP0I1\"};"],"sourceRoot":""}